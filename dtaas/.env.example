# OAuth2/OIDC Configuration for Traefik Forward Auth
# Copy this file to .env and fill in your actual values

# ==============================================================================
# KEYCLOAK CONFIGURATION (Default for compose.traefik.secure.yml)
# ==============================================================================

# Keycloak Admin Credentials (for initial setup only)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Keycloak Realm Configuration
# The realm name where your application and users are configured
KEYCLOAK_REALM=dtaas

# Keycloak OIDC Client Configuration
# Create a client in your Keycloak realm with:
# - Client ID: dtaas-workspace
# - Access Type: confidential
# - Valid Redirect URIs: http://localhost/_oauth/* (or your domain)
# - Web Origins: http://localhost (or your domain)
KEYCLOAK_CLIENT_ID=dtaas-workspace
KEYCLOAK_CLIENT_SECRET=your_keycloak_client_secret_here

# Keycloak Issuer URL
# Format: http://keycloak:8080/auth/realms/{REALM_NAME}
# For internal Docker network communication, use 'keycloak' as hostname
# For external Keycloak, use the full URL (e.g., https://keycloak.example.com/auth/realms/dtaas)
KEYCLOAK_ISSUER_URL=http://keycloak:8080/auth/realms/dtaas

# ==============================================================================
# LEGACY GITLAB OAUTH CONFIGURATION (Optional - for backward compatibility)
# ==============================================================================
# Uncomment and configure these if you want to use GitLab instead of Keycloak
# Remember to also update the traefik-forward-auth environment variables in the compose file

# GitLab OAuth Application Configuration
# Create an OAuth application in your GitLab instance at:
# Settings -> Applications (for personal) or
# Admin Area -> Applications (for instance-wide)

# Your GitLab instance URL (without trailing slash)
# Example: https://gitlab.com or https://gitlab.example.com
# OAUTH_URL=https://gitlab.com

# OAuth Application Client ID
# Obtained when creating the OAuth application in GitLab
# OAUTH_CLIENT_ID=your_gitlab_client_id_here

# OAuth Application Client Secret
# Obtained when creating the OAuth application in GitLab
# OAUTH_CLIENT_SECRET=your_gitlab_client_secret_here

# ==============================================================================
# SHARED CONFIGURATION
# ==============================================================================

# Secret key for encrypting OAuth session data
# Generate a random string (at least 16 characters)
# Example: openssl rand -base64 32
OAUTH_SECRET=your_random_secret_key_here

# Server Configuration
# Replace with your domain name
SERVER_DNS=localhost

# Redirect URL Configuration
# When creating the OAuth/OIDC application, set the redirect URL to:
# http://localhost/_oauth (for local development)
# or https://your-domain.com/_oauth (for production)

# Username Configuration
# These usernames will be used as path prefixes for user workspaces
# Example: http://localhost/user1, http://localhost/user2
USERNAME1=user1
USERNAME2=user2
